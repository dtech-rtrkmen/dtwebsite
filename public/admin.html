<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8" />
    <title>Admin Paneli</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
        * {
            box-sizing: border-box;
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
        }

        body {
            margin: 0;
            background: #f3f4f6;
            color: #111827;
        }

        /* LOGIN EKRANI */

        #login-view {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .login-card {
            background: #ffffff;
            border-radius: 16px;
            padding: 24px 28px;
            box-shadow: 0 20px 40px rgba(15, 23, 42, 0.15);
            width: 100%;
            max-width: 380px;
        }

        .login-card h1 {
            margin: 0 0 8px;
            font-size: 20px;
        }

        .login-card p {
            margin: 0 0 16px;
            font-size: 13px;
            color: #6b7280;
        }

        .field {
            margin-bottom: 12px;
        }

        .field label {
            display: block;
            font-size: 13px;
            margin-bottom: 4px;
        }

        .field input {
            width: 100%;
            padding: 8px 10px;
            border-radius: 8px;
            border: 1px solid #d1d5db;
            font-size: 14px;
        }

        .btn {
            border-radius: 999px;
            border: none;
            padding: 8px 14px;
            font-size: 14px;
            cursor: pointer;
            background: #111827;
            color: #fff;
            display: inline-flex;
            align-items: center;
            gap: 6px;
        }

        .btn.secondary {
            background: #e5e7eb;
            color: #111827;
        }

        .btn.danger {
            background: #dc2626;
            color: #fff;
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: default;
        }

        .message {
            font-size: 13px;
            margin-bottom: 8px;
        }

        .message.error {
            color: #b91c1c;
        }

        .message.success {
            color: #15803d;
        }

        /* ADMIN PANEL LAYOUT */

        #admin-app {
            display: none;
            /* login baÅŸarÄ±lÄ± olunca aÃ§acaÄŸÄ±z */
            min-height: 100vh;
        }

        .layout {
            display: flex;
            min-height: 100vh;
        }

        .sidebar {
            width: 240px;
            background: #111827;
            color: #e5e7eb;
            display: flex;
            flex-direction: column;
            padding: 16px;
        }

        .sidebar-header {
            margin-bottom: 16px;
        }

        .sidebar-title {
            font-size: 18px;
            font-weight: 600;
        }

        .sidebar-sub {
            font-size: 12px;
            color: #9ca3af;
        }

        .sidebar-nav {
            margin-top: 16px;
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .nav-item {
            padding: 8px 10px;
            border-radius: 8px;
            font-size: 14px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            color: #e5e7eb;
        }

        .nav-item span.icon {
            font-size: 16px;
        }

        .nav-item.active {
            background: #1f2937;
            font-weight: 600;
        }

        .sidebar-footer {
            margin-top: auto;
            font-size: 12px;
            color: #9ca3af;
            display: flex;
            flex-direction: column;
            gap: 6px;
        }

        /* CONTENT */

        .content {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .content-header {
            padding: 12px 20px;
            background: #ffffff;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 1px solid #e5e7eb;
        }

        .content-header-title {
            font-size: 18px;
            font-weight: 500;
        }

        .content-header-right {
            font-size: 13px;
            color: #6b7280;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .content-main {
            padding: 16px 20px 24px;
            max-width: 1100px;
        }

        .card {
            background: #ffffff;
            border-radius: 12px;
            padding: 16px 18px;
            box-shadow: 0 8px 16px rgba(15, 23, 42, 0.05);
            margin-bottom: 16px;
        }

        .card h2 {
            margin: 0 0 10px;
            font-size: 17px;
        }

        .card h3 {
            margin: 12px 0 8px;
            font-size: 15px;
        }

        .small {
            font-size: 12px;
            color: #6b7280;
        }

        .row {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
            margin-bottom: 10px;
        }

        .row .field {
            flex: 1 1 200px;
            min-width: 200px;
            margin-bottom: 0;
        }

        textarea,
        select {
            width: 100%;
            padding: 8px 10px;
            border-radius: 8px;
            border: 1px solid #d1d5db;
            font-size: 14px;
        }

        textarea {
            min-height: 60px;
            resize: vertical;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 13px;
        }

        th,
        td {
            padding: 8px 6px;
            border-bottom: 1px solid #e5e7eb;
            text-align: left;
        }

        th {
            font-size: 11px;
            text-transform: uppercase;
            color: #6b7280;
        }

        tr:hover {
            background: #f3f4f6;
        }

        .badge {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 999px;
            font-size: 11px;
            background: #e5f9e7;
            color: #166534;
        }

        .badge.red {
            background: #fee2e2;
            color: #b91c1c;
        }

        .badge.gray {
            background: #e5e7eb;
            color: #374151;
        }

        .clickable {
            cursor: pointer;
        }

        @media (max-width: 900px) {
            .sidebar {
                display: none;
            }

            .content {
                margin-left: 0;
            }
        }

        /* --- ÃœRÃœN FORMU: yeni .form-row alanlarÄ± iÃ§in --- */

        .row {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
            margin-bottom: 10px;
            align-items: flex-start;
        }

        /* .field nasÄ±l gÃ¶rÃ¼nÃ¼yorsa .form-row da Ã¶yle gÃ¶rÃ¼nsÃ¼n */
        .row .form-row {
            flex: 1 1 200px;
            min-width: 200px;
            margin-bottom: 0;
        }

        .form-row label {
            display: block;
            font-size: 13px;
            margin-bottom: 4px;
        }

        /* text + file inputâ€™lar */
        .form-row input[type="text"],
        .form-row input[type="file"],
        .form-row .input {
            width: 100%;
            padding: 8px 10px;
            border-radius: 8px;
            border: 1px solid #d1d5db;
            font-size: 14px;
            background: #fff;
        }

        /* kÃ¼Ã§Ã¼k aÃ§Ä±klama yazÄ±larÄ± */
        .form-row small {
            display: block;
            margin-top: 4px;
            font-size: 11px;
            color: #6b7280;
        }

        /* Galeri Ã¶nizleme kutusu */
        #productGalleryPreview {
            margin-top: 4px;
            padding: 6px 8px;
            border-radius: 8px;
            border: 1px dashed #e5e7eb;
            background: #f9fafb;
            font-size: 12px;
            color: #4b5563;
        }

        /* form iÃ§indeki hrâ€™lar satÄ±rÄ± bÃ¶lsÃ¼n */
        .row hr {
            flex-basis: 100%;
            border: none;
            border-top: 1px solid #e5e7eb;
            margin: 8px 0;
        }

        /* --- ÃœRÃœN FORMU: yeni .form-row alanlarÄ± iÃ§in --- */

        .row {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
            margin-bottom: 10px;
            align-items: flex-start;
        }

        .row .form-row {
            flex: 1 1 200px;
            min-width: 200px;
            margin-bottom: 0;
        }

        .form-row label {
            display: block;
            font-size: 13px;
            margin-bottom: 4px;
        }

        .form-row input[type="text"],
        .form-row input[type="file"],
        .form-row .input {
            width: 100%;
            padding: 8px 10px;
            border-radius: 8px;
            border: 1px solid #d1d5db;
            font-size: 14px;
            background: #fff;
        }

        .form-row small {
            display: block;
            margin-top: 4px;
            font-size: 11px;
            color: #6b7280;
        }

        /* TanÄ±tÄ±m galerisi Ã¶nizleme */
        .gallery-preview {
            margin-top: 6px;
            padding: 6px 8px;
            border-radius: 8px;
            border: 1px dashed #e5e7eb;
            background: #f9fafb;
            color: #4b5563;
        }

        /* Form iÃ§i bÃ¶lÃ¼cÃ¼ Ã§izgi */
        .section-divider {
            border: none;
            border-top: 1px solid #e5e7eb;
            margin: 10px 0 14px;
        }

        /* Teknik gÃ¶rseller bloÄŸu */
        .tech-block {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .tech-upload-row {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .tech-upload-row input[type="file"] {
            flex: 1 1 180px;
        }

        .tech-upload-row input[type="text"] {
            flex: 2 1 200px;
        }

        .tech-image-list {
            margin-top: 4px;
            padding: 6px 8px;
            border-radius: 8px;
            border: 1px dashed #e5e7eb;
            background: #f9fafb;
            max-height: 200px;
            overflow-y: auto;
        }

        .tech-image-list img {
            max-width: 120px;
            border-radius: 8px;
            margin-right: 6px;
        }
    </style>
</head>

<body>

    <!-- LOGIN GÃ–RÃœNÃœMÃœ -->
    <section id="login-view">
        <div class="login-card">
            <h1>Admin GiriÅŸ</h1>
            <p>Sisteme admin olarak giriÅŸ yapÄ±n.</p>
            <div id="login-message" class="message"></div>
            <form id="login-form">
                <div class="field">
                    <label for="login-identifier">E-posta</label>
                    <input type="text" id="login-identifier" autocomplete="username" />
                </div>
                <div class="field">
                    <label for="login-password">Åžifre</label>
                    <input type="password" id="login-password" autocomplete="current-password" />
                </div>
                <button type="submit" class="btn" id="login-btn">GiriÅŸ Yap</button>
            </form>
        </div>
    </section>

    <!-- ADMIN PANEL -->
    <section id="admin-app">
        <div class="layout">
            <aside class="sidebar">
                <div class="sidebar-header">
                    <div class="sidebar-title">Admin Paneli</div>
                    <div class="sidebar-sub">YÃ¶netim alanÄ±</div>
                </div>
                <nav class="sidebar-nav">
                    <div class="nav-item active" data-view="dashboard">
                        <span class="icon">ðŸ“Š</span><span>Dashboard</span>
                    </div>
                    <div class="nav-item" data-view="products">
                        <span class="icon">ðŸ“¦</span><span>ÃœrÃ¼nler</span>
                    </div>
                    <div class="nav-item" data-view="orders">
                        <span class="icon">ðŸ§¾</span><span>SipariÅŸler</span>
                    </div>
                    <div class="nav-item" data-view="users">
                        <span class="icon">ðŸ‘¥</span><span>Ãœyeler</span>
                    </div>
                </nav>
                <div class="sidebar-footer">
                    <div id="admin-info"></div>
                    <button class="btn secondary" id="logout-btn">Ã‡Ä±kÄ±ÅŸ</button>
                </div>
            </aside>

            <div class="content">
                <header class="content-header">
                    <div class="content-header-title" id="view-title">Dashboard</div>
                    <div class="content-header-right">
                        <span id="header-sub">Genel bakÄ±ÅŸ</span>
                    </div>
                </header>
                <main class="content-main">
                    <!-- DASHBOARD -->
                    <div class="card" id="view-dashboard">
                        <h2>Genel BakÄ±ÅŸ</h2>
                        <p class="small">Son durumu hÄ±zlÄ±ca gÃ¶r.</p>
                        <div class="row">
                            <div class="card" style="flex:1; box-shadow:none; border:1px solid #e5e7eb;">
                                <h3>Toplam ÃœrÃ¼n</h3>
                                <p><strong id="stat-products">-</strong></p>
                            </div>
                            <div class="card" style="flex:1; box-shadow:none; border:1px solid #e5e7eb;">
                                <h3>Toplam SipariÅŸ</h3>
                                <p><strong id="stat-orders">-</strong></p>
                            </div>
                            <div class="card" style="flex:1; box-shadow:none; border:1px solid #e5e7eb;">
                                <h3>Toplam Ãœye</h3>
                                <p><strong id="stat-users">-</strong></p>
                            </div>
                        </div>
                    </div>

                    <!-- ÃœRÃœNLER GÃ–RÃœNÃœMÃœ -->
                    <div id="view-products" style="display:none;">
                        <!-- ÃœRÃœN EKLE / DÃœZENLE + TEKNÄ°K GÃ–RSELLER -->
                        <div class="card">
                            <h2>ÃœrÃ¼n Ekle / DÃ¼zenle</h2>
                            <p class="small">Yeni Ã¼rÃ¼n ekleyebilir veya listeden seÃ§ip dÃ¼zenleyebilirsiniz.</p>
                            <!-- BURAYA EKLE -->
                            <div id="product-message" class="message"></div>
                            <form id="product-form">
                                <input type="hidden" id="product-id" />

                                <!-- TEMEL BÄ°LGÄ°LER -->
                                <div class="row">
                                    <div class="field">
                                        <label for="product-name">Ad *</label>
                                        <input id="product-name" type="text" />
                                    </div>
                                    <div class="field">
                                        <label for="product-slug">Kod *</label>
                                        <input id="product-slug" type="text" placeholder="ornek-urun" />
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="field">
                                        <label for="product-price">Fiyat (TL) *</label>
                                        <input id="product-price" type="number" step="0.01" />
                                    </div>
                                    <div class="field">
                                        <label for="weightKg">AÄŸÄ±rlÄ±k (kg)</label>
                                        <input type="number" step="0.01" id="weightKg" class="form-control">
                                    </div>
                                    <div class="field">
                                        <label for="product-stock">Stok *</label>
                                        <input id="product-stock" type="number" step="1" />
                                    </div>
                                    <div class="field">
                                        <label for="product-category">Kategori</label>
                                        <select id="product-category">
                                            <option value="">Kategori seÃ§in</option>
                                            <option value="vtol-drones">VTOL Drones</option>
                                            <option value="vtol-airframe">VTOL Airframe</option>
                                            <option value="vtol-cargo-delivery-box">VTOL Cargo Delivery Box</option>
                                            <option value="heavy-lift-drone">Heavy Lift Drone</option>
                                            <option value="agricultural-drone">Agricultural Drone</option>
                                            <option value="drone-thermal-camera">Drone Thermal Camera</option>
                                            <option value="sensor-tracking-series">Sensor Tracking Series</option>
                                            <option value="multispectral-camera">Multispectral Camera</option>
                                            <option value="mapping-camera">Mapping Camera</option>
                                            <option value="ir-laser-lumination-series">IR Laser lumination Series
                                            </option>
                                            <option value="gps-location-resolving-series">GPS Location Resolving Series
                                            </option>
                                            <option value="dual-sensor-tracking-series">Dual-Sensor Tracking Series
                                            </option>
                                            <option value="video-datalink">Video & Datalink</option>
                                            <option value="aheadx">AheadX</option>
                                            <option value="dji">DJI</option>
                                            <option value="pixhawk">Pixhawk</option>
                                            <option value="cuav">CUAV</option>
                                            <option value="micropilot">Micropilot</option>
                                            <option value="2S">2S</option>
                                            <option value="3S">3S</option>
                                            <option value="4S">4S</option>
                                            <option value="6S">6S</option>
                                            <option value="12S">12S</option>
                                            <option value="charger">Charger</option>
                                            <option value="ground-station">Ground Station</option>
                                            <option value="radio-control">Radio Control</option>
                                            <option value="motors">Motors</option>
                                            <option value="esc">ESC</option>
                                            <option value="propellers">Propellers</option>
                                        </select>
                                    </div>
                                </div>

                                <!-- ANA GÃ–RSEL + GALERÄ° -->
                                <div class="row">
                                    <div class="form-row">
                                        <label for="productMainFile">Bilgisayardan Ana GÃ¶rsel SeÃ§</label>
                                        <input type="file" id="productMainFile" accept="image/*" />
                                    </div>

                                    <div class="form-row">
                                        <label for="productImageUrl">GÃ¶rsel URL</label>
                                        <input type="text" id="productImageUrl" class="input"
                                            placeholder="/uploads/products/urun1.jpg" />
                                        <small>Dosya seÃ§ersen burasÄ± otomatik dolar.</small>
                                    </div>

                                    <div class="field">
                                        <label for="product-active">Durum</label>
                                        <select id="product-active">
                                            <option value="1" selected>Aktif</option>
                                            <option value="0">Pasif</option>
                                        </select>
                                    </div>
                                </div>

                                <hr class="section-divider" />
                                <div class="row">
                                    <!-- TANITIM GALERÄ°SÄ° -->
                                    <div class="form-row" style="flex: 2 1 260px;">
                                        <label for="productGalleryInput">TanÄ±tÄ±m Galerisi (en fazla 4 gÃ¶rsel)</label>
                                        <input type="file" id="productGalleryInput" accept="image/*" multiple />
                                        <small>ÃœrÃ¼n detay sayfasÄ±ndaki slider iÃ§in. Ä°lk 4 gÃ¶rsel kullanÄ±lÄ±r.</small>
                                        <div id="productGalleryPreview" class="gallery-preview small">
                                            HenÃ¼z galeri gÃ¶rseli seÃ§mediniz.
                                        </div>
                                    </div>

                                    <!-- TEKNÄ°K Ã–ZELLÄ°K GÃ–RSELLERÄ° -->
                                    <div class="form-row tech-block" style="flex: 3 1 320px;">
                                        <label>Teknik Ã–zellik GÃ¶rselleri</label>

                                        <div class="tech-upload-row">
                                            <input type="file" id="techImageFile" accept="image/*" />
                                            <input type="text" id="techImageCaption"
                                                placeholder="AÃ§Ä±klama (opsiyonel)" />
                                            <button type="button" class="btn secondary" id="techImageAddBtn">
                                                Ekle
                                            </button>
                                        </div>

                                        <div class="small" id="techImageStatus">
                                            HenÃ¼z teknik gÃ¶rsel eklenmedi. Dosya seÃ§ip "Ekle" diyerek sÄ±raya
                                            alabilirsiniz.
                                        </div>

                                        <div id="techImageList" class="tech-image-list small">
                                            <!-- JS ile doldurulacak -->
                                        </div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="field" style="flex:1 1 100%;">
                                        <label for="product-desc">AÃ§Ä±klama</label>
                                        <textarea id="product-desc"></textarea>
                                    </div>
                                </div>

                                <div class="row">
                                    <button type="submit" class="btn" id="product-submit-btn">Kaydet</button>
                                    <button type="button" class="btn secondary" id="product-reset-btn">
                                        Formu temizle
                                    </button>
                                    <span class="small" id="product-form-mode">Mod: Yeni Ã¼rÃ¼n</span>
                                </div>
                            </form>
                        </div>

                        <!-- ÃœRÃœN LÄ°STESÄ° -->
                        <div class="card">
                            <h2>ÃœrÃ¼n Listesi</h2>
                            <div id="products-table-wrapper" class="small">
                                HenÃ¼z Ã¼rÃ¼n yok.
                            </div>
                        </div>
                    </div>

                    <!-- SÄ°PARÄ°ÅžLER -->
                    <div id="view-orders" style="display:none;">
                        <div class="card">
                            <h2>SipariÅŸler</h2>
                            <div id="orders-table-wrapper">YÃ¼kleniyor...</div>
                        </div>
                        <div class="card" id="order-detail-card" style="display:none;">
                            <h2>SipariÅŸ DetayÄ±</h2>
                            <div id="order-detail-content" class="small"></div>
                        </div>
                    </div>

                    <!-- ÃœYELER -->
                    <div id="view-users" style="display:none;">
                        <div class="card">
                            <h2>Ãœyeler</h2>
                            <div id="users-table-wrapper">YÃ¼kleniyor...</div>
                        </div>
                    </div>

                </main>
            </div>
        </div>
    </section>

    <script src="js/admin.js" defer></script>
</body>

</html>